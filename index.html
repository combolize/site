<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>combolize â€” producer</title>

<!-- Gothic font -->
<link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&display=swap" rel="stylesheet">

<style>
/* ---- Global ---- */
body {
  margin: 0;
  background-color: #000;
  color: #ff1a1a;
  font-family: 'Times New Roman', 'UnifrakturCook', serif;
  overflow-x: hidden;
  position: relative;
}

/* Force font for all elements */
body, body *, #about, #about *, .about, .about * {
  font-family: 'Times New Roman', 'UnifrakturCook', serif !important;
  color: #ff1a1a !important;
}

/* Full-page glitch background */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    rgba(255,0,0,0.05),
    rgba(255,0,0,0.05) 2px,
    rgba(0,255,255,0.05) 2px,
    rgba(0,255,255,0.05) 4px
  );
  animation: glitchBG 1s infinite linear;
  z-index: -1;
  pointer-events: none;
}

a {
  color: #ff1a1a;
  text-decoration: none;
  transition: opacity 0.2s;
  font-weight: 700;
}
a:hover { opacity: 0.7; }

/* ---- Header ---- */
header {
  position: fixed;
  top: 0;
  width: 100%;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(6px);
  z-index: 10;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 60px;
}
header h1 {
  font-weight: 700;
  letter-spacing: 2px;
  text-transform: uppercase;
  font-size: 20px;
}
nav a {
  margin-left: 30px;
  font-size: 16px;
}

/* ---- Hero ---- */
.hero {
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  position: relative;
  overflow: hidden;
}
.hero h2 {
  position: relative;
  font-size: 48px;
  font-weight: 700;
  letter-spacing: 2px;
  z-index: 2;
  text-shadow:
    0 0 5px #ff1a1a,
    0 0 10px #ff1a1a,
    0 0 20px #ff4d4d,
    0 0 30px #ff4d4d;
  animation: textGlitch 1s infinite;
}
.hero p {
  position: relative;
  z-index: 2;
  margin-top: 15px;
  font-size: 18px;
  font-weight: 700;
  opacity: 0.9;
}
.hero a.btn {
  position: relative;
  z-index: 2;
  display: inline-block;
  margin-top: 30px;
  padding: 12px 28px;
  border: 1px solid #ff1a1a;
  text-transform: uppercase;
  letter-spacing: 2px;
  font-weight: 700;
  transition: background 0.3s;
}
.hero a.btn:hover {
  background: #ff1a1a;
  color: #000;
}

/* ---- Sections ---- */
.section {
  padding: 120px 10%;
  text-align: center;
}
.section h3 {
  font-size: 32px;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 40px;
}

/* Tracks */
#track-list {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 40px;
}
.track-card {
  background: #111;
  border: 1px solid #222;
  width: 320px;
  padding: 20px;
  border-radius: 8px;
  transition: transform 0.3s;
}
.track-card:hover { transform: translateY(-5px); }
.track-card h4 { margin: 0 0 10px 0; }

/* About */
.about {
  max-width: 800px;
  margin: 0 auto;
  font-size: 16px;
  line-height: 1.7;
}

/* Footer */
footer {
  padding: 60px 0;
  text-align: center;
  background: #050505;
  font-size: 14px;
}

/* Animations */
@keyframes glitchBG {
  0% { transform: translate(0,0); opacity: 0.1; }
  20% { transform: translate(-5px,2px); opacity: 0.1; }
  40% { transform: translate(5px,-2px); opacity: 0.1; }
  60% { transform: translate(-3px,1px); opacity: 0.1; }
  80% { transform: translate(3px,-1px); opacity: 0.1; }
  100% { transform: translate(0,0); opacity: 0.1; }
}
@keyframes textGlitch {
  0% { text-shadow: 2px 0 #ff1a1a, -2px 0 #00ffff, 0 2px #ff4d4d; }
  20% { text-shadow: -2px 0 #ff1a1a, 2px -1px #00ffff, 1px 2px #ff4d4d; }
  40% { text-shadow: 2px -1px #ff1a1a, -1px 1px #00ffff, 0 -2px #ff4d4d; }
  60% { text-shadow: -1px 1px #ff1a1a, 1px -2px #00ffff, 2px 1px #ff4d4d; }
  80% { text-shadow: 1px 0 #ff1a1a, -2px 2px #00ffff, 0 1px #ff4d4d; }
  100% { text-shadow: 2px 0 #ff1a1a, -2px 0 #00ffff, 0 2px #ff4d4d; }
}
</style>
</head>

<body>

<header>
  <h1>combolize</h1>
  <nav>
    <a href="#tracks">Music</a>
    <a href="#about">About</a>
    <a href="https://soundcloud.com/combolize" target="_blank">Listen</a>
  </nav>
</header>

<section class="hero">
  <h2>combolize</h2>
  <p>a bedroom producer</p>
  <a href="#tracks" class="btn">Listen</a>
</section>

<section id="tracks" class="section">
  <h3>Latest Tracks</h3>
  <div id="track-list">
    <p style="color:#888;">Loading tracks...</p>
  </div>
</section>

<section id="about" class="section">
  <h3>About</h3>
  <div class="about">
    <p>im sleeping... dont wake me up</p>
  </div>
</section>

<footer>
  <div style="margin-bottom:10px;">
   combolize 
  </div>
  <div>
    <!-- Instagram -->
    <a href="https://www.instagram.com/combolize" target="_blank" style="margin-right:20px;">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#ff1a1a" viewBox="0 0 24 24">
        <path d="M12 2.2c3.2 0 3.584.012 4.85.07 1.17.056 1.97.24 2.43.414a4.92 4.92 0 011.78 1.024 4.92 4.92 0 011.024 1.78c.174.46.358 1.26.414 2.43.058 1.266.07 1.65.07 4.85s-.012 3.584-.07 4.85c-.056 1.17-.24 1.97-.414 2.43a4.92 4.92 0 01-1.024 1.78 4.92 4.92 0 01-1.78 1.024c-.46.174-1.26.358-2.43.414-1.266.058-1.65.07-4.85.07s-3.584-.012-4.85-.07c-1.17-.056-1.97-.24-2.43-.414a4.92 4.92 0 01-1.78-1.024 4.92 4.92 0 01-1.024-1.78c-.174-.46-.358-1.26-.414-2.43C2.212 15.584 2.2 15.2 2.2 12s.012-3.584.07-4.85c.056-1.17.24-1.97.414-2.43a4.92 4.92 0 011.024-1.78A4.92 4.92 0 015.488 2.684c.46-.174 1.26-.358 2.43-.414C8.416 2.212 8.8 2.2 12 2.2zm0-2.2C8.735 0 8.332.013 7.052.072c-1.281.06-2.158.272-2.92.58a6.92 6.92 0 00-2.5 1.62 6.92 6.92 0 00-1.62 2.5c-.308.762-.52 1.639-.58 2.92C.013 8.332 0 8.735 0 12c0 3.265.013 3.668.072 4.948.06 1.281.272 2.158.58 2.92a6.92 6.92 0 001.62 2.5 6.92 6.92 0 002.5 1.62c.762.308 1.639.52 2.92.58C8.332 23.987 8.735 24 12 24s3.668-.013 4.948-.072c1.281-.06 2.158-.272 2.92-.58a6.92 6.92 0 002.5-1.62 6.92 6.92 0 001.62-2.5c.308-.762.52-1.639.58-2.92.059-1.28.072-1.683.072-4.948s-.013-3.668-.072-4.948c-.06-1.281-.272-2.158-.58-2.92a6.92 6.92 0 00-1.62-2.5 6.92 6.92 0 00-2.5-1.62c-.762-.308-1.639-.52-2.92-.58C15.668.013 15.265 0 12 0z"/>
        <path d="M12 5.838a6.162 6.162 0 106.162 6.162A6.162 6.162 0 0012 5.838zm0 10.162a4 4 0 114-4 4.005 4.005 0 01-4 4z"/>
        <circle cx="18.406" cy="5.594" r="1.44"/>
      </svg>
    </a>

    <!-- YouTube -->
    <a href="https://www.youtube.com/@combolize" target="_blank">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#ff1a1a" viewBox="0 0 24 24">
        <path d="M23.498 6.186a2.997 2.997 0 00-2.113-2.115C19.346 3.5 12 3.5 12 3.5s-7.346 0-9.385.571a2.997 2.997 0 00-2.113 2.115A31.115 31.115 0 000 12a31.115 31.115 0 00.502 5.814 2.997 2.997 0 002.113 2.115C4.654 20.5 12 20.5 12 20.5s7.346 0 9.385-.571a2.997 2.997 0 002.113-2.115A31.115 31.115 0 0024 12a31.115 31.115 0 00-.502-5.814zM9.75 15.02V8.98l6.18 3.02-6.18 3.02z"/>
      </svg>
    </a>
  </div>
</footer>

<script>
// === Auto fetch client_id from SoundCloud discover page ===
async function getClientID() {
  try {
    const res = await fetch("https://soundcloud.com/discover");
    const text = await res.text();
    const match = text.match(/client_id=([a-zA-Z0-9]{32})/);
    if (match) return match[1];
  } catch (e) {
    console.error("Failed to fetch client_id:", e);
  }
  return null;
}

// === Resolve user ID from username ===
async function getUserID(username, client_id) {
  const url = `https://api-v2.soundcloud.com/resolve?url=https://soundcloud.com/${username}&client_id=${client_id}`;
  const res = await fetch(url);
  const data = await res.json();
  return data?.id || null;
}

// === Fetch tracks by user ID ===
async function getTracks(user_id, client_id) {
  const url = `https://api-v2.soundcloud.com/users/${user_id}/tracks?client_id=${client_id}`;
  const res = await fetch(url);
  const data = await res.json();
  return data.collection || [];
}

// === Render tracks on page ===
function renderTracks(tracks) {
  const container = document.getElementById("track-list");
  container.innerHTML = "";

  if (!tracks.length) {
    container.innerHTML = "<p style='color:#888;'>No tracks found.</p>";
    return;
  }

  tracks.forEach(track => {
    const div = document.createElement("div");
    div.className = "track-card";
    div.innerHTML = `
      <h4>${track.title}</h4>
      <audio controls src="${track.media.transcodings?.[0]?.url}?client_id=${track.client_id || ''}" preload="none"></audio>
    `;
    container.appendChild(div);
  });
}

// === Main updater function ===
async function updateSoundcloudTracks() {
  const username = "combolize";
  const client_id = await getClientID();
  if (!client_id) {
    console.error("Cannot fetch SoundCloud client_id");
    return;
  }

  const user_id = await getUserID(username, client_id);
  if (!user_id) {
    console.error("Cannot resolve user ID");
    return;
  }

  const tracks = await getTracks(user_id, client_id);
  renderTracks(tracks);
}

//Run on load and refresh every 6 hours
updateSoundcloudTracks();
setInterval(updateSoundcloudTracks, 6 * 60 * 60 * 1000);
</script>

</body>
</html>
